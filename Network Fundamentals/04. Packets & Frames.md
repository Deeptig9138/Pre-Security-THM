# ğŸ“¦ Packets & Frames

This room introduces how data is structured and transmitted across networks using **packets**, **frames**, and core transport protocols like **TCP** and **UDP**. Understanding these concepts is fundamental for networking and cybersecurity analysis.

---

## ğŸ¯ Learning Objectives
- Understand the difference between packets and frames
- Learn how encapsulation works in networking
- Understand TCP and the Three-Way Handshake
- Compare TCP and UDP
- Learn the purpose of ports and common port numbers

---

## ğŸ§  Task 1: What are Packets and Frames

Packets and frames are small chunks of data that together form a complete message during network communication.

- A **packet** belongs to **Layer 3 (Network Layer)** of the OSI model and contains:
  - IP headers
  - Payload (actual data)

- A **frame** belongs to **Layer 2 (Data Link Layer)** and:
  - Encapsulates the packet
  - Adds MAC address information

### âœ‰ï¸ Real-World Analogy
Think of sending a letter:
- **Envelope â†’ Frame**
- **Letter inside â†’ Packet**

The envelope (frame) ensures delivery, while the letter (packet) contains the actual message.

This wrapping process is known as **encapsulation**. Removing the wrapping is called **decapsulation**.

### âš¡ Why Packets Matter
- Data is split into small chunks
- Reduces network congestion
- Improves reliability and efficiency

For example, when loading an image from a website, the image is broken into packets and reassembled on your device.

### ğŸ“‘ Important Packet Headers

| Header | Description |
|------|-------------|
| Time To Live (TTL) | Prevents packets from looping endlessly |
| Checksum | Ensures data integrity |
| Source Address | IP of the sender |
| Destination Address | IP of the receiver |

### âœ… Questions
**What is the name for a piece of data when it does have IP addressing information?**  
**Answer:** Packet  

**What is the name for a piece of data when it does not have IP addressing information?**  
**Answer:** Frame  

---

## ğŸ” Task 2: TCP/IP â€“ The Three-Way Handshake

**TCP (Transmission Control Protocol)** is a connection-oriented protocol that ensures reliable data delivery.

### TCP/IP Model Layers
- Application
- Transport
- Internet
- Network Interface

TCP uses **encapsulation** as data moves down layers and **decapsulation** on receipt.

### âœ… Why TCP?
- Guarantees delivery
- Maintains order
- Ensures integrity

### âš–ï¸ TCP Pros & Cons

**Advantages**
- Reliable data delivery
- Ordered transmission
- Data integrity

**Disadvantages**
- Slower than UDP
- Requires stable connection
- Higher overhead

### ğŸ§¾ Key TCP Headers

| Header | Description |
|------|-------------|
| Source Port | Senderâ€™s port |
| Destination Port | Service port |
| Source IP | Sender IP |
| Destination IP | Receiver IP |
| Sequence Number | Tracks data order |
| Acknowledgement Number | Confirms receipt |
| Checksum | Data integrity |
| Flags | Control handshake behavior |
| Data | Payload |

![header](https://github.com/Deeptig9138/Pre-Security-THM/blob/main/screenshots/tcp%20header.jpg)

## ğŸ¤ Three-Way Handshake Process

| Step | Message | Description |
|----|--------|------------|
| 1 | SYN | Client initiates connection |
| 2 | SYN/ACK | Server acknowledges |
| 3 | ACK | Client confirms |
| 4 | DATA | Data transfer |
| 5 | FIN | Graceful close |
| 6 | RST | Abrupt termination |

![tcp](https://github.com/Deeptig9138/Pre-Security-THM/blob/main/screenshots/tcp%20handshake.jpg)

### ğŸ”¢ Sequence Numbers
Sequence numbers ensure packets arrive in order and are reassembled correctly.

### âŒ Closing a TCP Connection
- Uses **FIN** packets
- Both sides must acknowledge closure

![closing](https://github.com/Deeptig9138/Pre-Security-THM/blob/main/screenshots/closed%20connection.webp)

### âœ… Questions
**What header ensures data integrity in TCP?**  
**Answer:** checksum  

**Provide the correct handshake order:**  
**Answer:** SYN,SYN/ACK,ACK  

---

## ğŸ§ª Task 3: Practical â€“ Handshake

You reassembled the TCP handshake between Alice and Bob in a simulated lab.

**Flag:** `THM{TCP_CHATTER}`

![flag1](https://github.com/Deeptig9138/Pre-Security-THM/blob/main/screenshots/p%26f1.png)

---

## ğŸ“¡ Task 4: UDP/IP

**UDP (User Datagram Protocol)** is a connectionless, stateless protocol.

### ğŸ†š TCP vs UDP
- No handshake
- No guarantees
- Faster transmission

### âš–ï¸ UDP Pros & Cons

**Advantages**
- Faster
- No connection overhead
- Ideal for streaming

**Disadvantages**
- No delivery guarantee
- No integrity checks
- Poor for unstable networks

### ğŸ§¾ Common UDP Headers

| Header | Description |
|------|-------------|
| TTL | Packet lifespan |
| Source Address | Sender IP |
| Destination Address | Receiver IP |
| Source Port | Sender port |
| Destination Port | Receiver port |
| Data | Payload |

![header2](https://github.com/Deeptig9138/Pre-Security-THM/blob/main/screenshots/udp%20header.png)

### âœ… Questions
**What does UDP stand for?**  
**Answer:** User Datagram Protocol  

**What type of connection is UDP?**  
**Answer:** Stateless  

**Which protocol is used for file transfer?**  
**Answer:** TCP  

**Which protocol is used for video calls?**  
**Answer:** UDP  

---

## ğŸš¢ Task 5: Ports 101 (Practical)

Ports act like docking points that allow data to reach the correct application.

- Port range: **0â€“65535**
- **0â€“1024** are well-known ports

### ğŸŒ Common Ports

| Protocol | Port | Description |
|--------|------|-------------|
| FTP | 21 | File transfer |
| SSH | 22 | Secure remote login |
| HTTP | 80 | Web traffic |
| HTTPS | 443 | Secure web traffic |
| SMB | 445 | File & printer sharing |
| RDP | 3389 | Remote desktop |

Applications can run on non-standard ports (e.g., HTTP on 8080), but must be explicitly specified.

### ğŸ§ª Practical Challenge
Connected to IP `8.8.8.8` on port `1234`.

**Flag:** `THM{YOU_CONNECTED_TO_A_PORT}`

![flag](https://github.com/Deeptig9138/Pre-Security-THM/blob/main/screenshots/p%26f2.png)

---

## ğŸ Summary

This room covered how data moves across networks using packets and frames, how TCP ensures reliable communication via the three-way handshake, how UDP prioritizes speed over reliability, and how ports guide traffic to the correct services. These concepts form the backbone of networking and cybersecurity analysis.
