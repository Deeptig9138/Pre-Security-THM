# Extending Your Network

> **Module Context**  
> This room focuses on how networks move beyond local communication.  
> We explore how services become publicly accessible, how traffic is controlled and secured, and how different networking devices enable scalable and secure communication.

This is a **foundational room** for understanding *real-world infrastructure*, not just theory.

---

## Task 1: Introduction to Port Forwarding

### What is Port Forwarding?

Port forwarding is a mechanism that allows services running inside a **private network** to be accessed from the **public Internet**.

Without port forwarding:
- Services (e.g., web servers) are accessible **only within the same local network**
- This internal-only network is often called an **intranet**

### Example Scenario

- A web server runs on:
  - IP: `192.168.1.10`
  - Port: `80`
- Only devices inside `192.168.1.0/24` can access it

To make this web server publicly accessible:
- Port forwarding is configured on the **router**
- External traffic hitting the public IP (e.g., `82.62.51.70:80`) is forwarded to:
  - `192.168.1.10:80`

### Key Distinction: Port Forwarding vs Firewalls

| Concept | Purpose |
|------|--------|
| Port Forwarding | Opens a path to a service |
| Firewall | Decides whether traffic is allowed through that path |

> **Important:**  
> Port forwarding does *not* equal security. It only exposes a service.

### Configuration Location

Port forwarding is always configured on the **router**, as it sits at the boundary between:
- Private network
- Public Internet

#### Answer
**What is the name of the device that is used to configure port forwarding?** - `router`

---

## Task 2: Firewalls 101

### What is a Firewall?

A firewall acts as **border security** for a network.  
It inspects traffic and decides whether it should be:
- Allowed
- Blocked

### What Can Firewalls Inspect?

Firewalls analyze packets based on:
- Source network
- Destination network
- Port number
- Protocol (TCP / UDP)

This process is called **packet inspection**.

### Firewall Categories

#### Stateful Firewall
- Tracks the **entire connection**
- Makes decisions based on session behavior
- More intelligent but resource-heavy

**Example:**
- Allows initial TCP handshake
- Blocks later malicious behavior
- Can block the *entire host*

#### Stateless Firewall
- Evaluates **each packet independently**
- Uses static rule sets
- Faster and lightweight
- Less intelligent

**Example:**
- Excellent against DDoS
- No context of previous packets

| Category | Inspects |
|------|--------|
| Stateful | Entire connection |
| Stateless | Individual packets |

### OSI Layer Operation

Firewalls primarily operate at:
- **Layer 3** (Network)
- **Layer 4** (Transport)

#### Answers
**What layers of the OSI model do firewalls operate at?** - `3 & 4`

**What category of firewall inspects the entire connection?** - `stateful`

**What category of firewall inspects individual packets?** - `stateless`

---

## Task 3: Practical – Firewall Configuration

### Objective

- Block **malicious traffic** (red packets)
- Allow **legitimate traffic** (green packets)
- Target: Web server `203.0.110.1`
- Protocol to block: **Port 80**

This task reinforces:
- Rule-based packet filtering
- Visual understanding of firewall behavior

#### Flag
THM{FIREWALLS_RULE}

![flag1](https://github.com/Deeptig9138/Pre-Security-THM/blob/main/screenshots/firewall.png)

---

## Task 4: VPN Basics

### What is a VPN?

A **Virtual Private Network (VPN)** creates a secure, encrypted tunnel over the Internet that allows devices on separate networks to communicate as if they were on the same private network.

### Core Benefits

| Benefit | Explanation |
|------|------------|
| Secure Connectivity | Safely connects distant networks |
| Privacy | Encrypts data in transit |
| Anonymity | Obscures traffic from ISPs/intermediaries |

### TryHackMe VPN Use Case

TryHackMe uses VPNs to:
- Securely connect learners to vulnerable machines
- Prevent public exposure of lab systems
- Avoid ISP or legal issues

### VPN Technologies

| Technology | Purpose |
|---------|--------|
| PPP | Authentication & encryption |
| PPTP | Tunneling mechanism (weak encryption) |
| IPSec | Strong encryption using IP framework |

#### Answers
**What VPN technology only encrypts & provides authentication of data?** - `PPP`

**What VPN technology uses the IP framework?** - `IPSec`

---

## Task 5: LAN Networking Devices

### What is a Router?

- Connects **different networks**
- Performs **routing**
- Operates at **Layer 3**
- Chooses optimal paths based on:
  - Distance
  - Reliability
  - Speed

### What is a Switch?

Switches connect **multiple devices within a network**.

#### Layer 2 Switch
- Uses **MAC addresses**
- Forwards **frames**
- No routing capability

#### Layer 3 Switch
- Combines:
  - Frame forwarding (Layer 2)
  - Packet routing (Layer 3)

### VLANs (Virtual LANs)

VLANs allow logical separation within the same physical network:
- Devices share infrastructure
- Communication rules are enforced
- Improves **security and segmentation**

#### Answer
**What is the verb for the action that a router does?** - `routing`

**What are the two different layers of switches?** - `Layer 2,Layer 3`

---

## Task 6: Practical – Network Simulator

### Objective

- Simulate packet traversal across a network
- Send a **TCP packet** from `computer1` to `computer3`
- Observe handshake, routing, and delivery steps

This task reinforces:
- Packet flow visualization
- TCP handshake behavior
- Routing logic

#### Answers
What is the flag from the network simulator?
THM{YOU'VE_GOT_DATA}

How many HANDSHAKE entries are there in the Network Log?
5

![flag2](https://github.com/Deeptig9138/Pre-Security-THM/blob/main/screenshots/flag2.png)

![logs](https://github.com/Deeptig9138/Pre-Security-THM/blob/main/screenshots/logs.png)

---

## Key Takeaways

- Port forwarding exposes services — it does not secure them
- Firewalls decide *what is allowed*, not *what exists*
- VPNs provide encrypted tunnels over untrusted networks
- Routers move packets between networks
- Switches move frames within networks
- VLANs enforce segmentation without extra hardware

---

## Mindset Shift

> **Networking is not about cables and IPs — it’s about control.**  
Who can talk?  
Who cannot?  
Over which protocol?  
Through which path?

Understanding this is what separates **users** from **security professionals**.
