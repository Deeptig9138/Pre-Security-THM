# **HTTP in Detail**

This room dives deep into **how the web actually works** under the hood.  
Understanding HTTP is *foundational* for both **offensive** and **defensive** security because every web attack, defense, misconfiguration, and exploit ultimately relies on how HTTP requests and responses are handled.

---

## **Task 1: What is HTTP(S)?**

### What is HTTP? (HyperText Transfer Protocol)

**HTTP** is the protocol used whenever you view a website.  
It was developed by **Tim Berners-Lee** and his team between **1989–1991**.

HTTP defines the **rules for communication** between a client (browser) and a server, allowing the transfer of:

- HTML pages
- Images
- Videos
- Files
- API data

In simple terms:

> HTTP is the language browsers and servers use to talk to each other.

### What is HTTPS? (HyperText Transfer Protocol Secure)

**HTTPS** is the **secure version of HTTP**.

Key features:
- Encrypts data in transit
- Prevents eavesdropping
- Prevents data tampering
- Confirms the identity of the server using certificates

This ensures:
- You are talking to the **real server**
- No one can **read or modify** your data in transit

### Questions

**Q)** What does HTTP stand for?  
**A)** HyperText Transfer Protocol  

**Q)** What does the S in HTTPS stand for?  
**A)** Secure  

**Q)** On the mock webpage there is an issue. What is the challenge flag?  
**A)** `THM{INVALID_HTTP_CERT}`

![flag](https://github.com/Deeptig9138/Pre-Security-THM/blob/main/screenshots/flag1.png)

---

## **Task 2: Requests and Responses**

When you visit a website, your browser:
1. Sends an **HTTP request**
2. Receives an **HTTP response**

To do this properly, the browser needs a **URL**.

### What is a URL? (Uniform Resource Locator)

A URL tells the browser **how and where** to access a resource.

Example: `http://user:password@tryhackme.com:80/view-room?id=1#task3`

#### URL Components

- **Scheme** – Protocol (`http`, `https`, `ftp`)
- **User** – Authentication info (rarely used)
- **Host** – Domain name or IP
- **Port** – Connection port (80 HTTP, 443 HTTPS)
- **Path** – Resource location
- **Query String** – Extra parameters
- **Fragment** – Specific section of the page

![url](https://github.com/Deeptig9138/Pre-Security-THM/blob/main/screenshots/url.png)

### Making an HTTP Request

Minimal request: `GET / HTTP/1.1`

Example request:
```
GET / HTTP/1.1
Host: tryhackme.com
User-Agent: Mozilla/5.0 Firefox/87.0
Referer: https://tryhackme.com/
```

#### Breakdown
- **Line 1**: Method + path + HTTP version
- **Line 2**: Target host
- **Line 3**: Browser information
- **Line 4**: Referring page
- **Blank line**: End of request

### Example HTTP Response
```
HTTP/1.1 200 OK
Server: nginx/1.15.8
Date: Fri, 09 Apr 2021 13:34:03 GMT
Content-Type: text/html
Content-Length: 98

<html>
<head>
    <title>TryHackMe</title>
</head>
<body>
    Welcome To TryHackMe.com
</body>
</html>
```

#### Breakdown
- **Status line:** Protocol + status code
- **Headers:** Metadata about the response
- **Blank line:** End of headers
- **Body:** Requested content

### Questions
**Q)** What HTTP protocol is used?  
**A)** HTTP/1.1  

**Q)** Which header tells the browser how much data to expect?  
**A)** Content-Length  

---

## **Task 3: HTTP Methods**
HTTP methods describe the intended action of the request.

**Common Methods:**
- **GET** – Retrieve data
- **POST** – Create new data
- **PUT** – Update existing data
- **DELETE** – Remove data

### Questions
**Q)** Create a new user account?  
**A)** POST  

**Q)** Update email address?  
**A)** PUT 

**Q)** Remove an uploaded picture?  
**A)** DELETE  

**Q)** View a news article?  
**A)** GET 

---

## **Task 4: HTTP Status Codes**
Status codes tell the client what happened.

**Status Code Ranges:**
- **100–199:** `Informational`
- **200–299:** `Success`
- **300–399:** `Redirection`
- **400–499:** `Client errors`
- **500–599:** `Server errors`

**Common Codes**
| Code	| Meaning |
|-------|---------|
| 200	  |   OK    |
| 201  	| Created |
| 301	  | Moved Permanently | 
| 302	  | Found   |
| 400	  | Bad Request |
| 401	  | Unauthorized |
| 403	  | Forbidden |
| 404	  | Not Found |
| 500	  | Internal Server Error |
| 503	  | Service Unavailable |

### Questions
**Q)** New user created?  
**A)** 201  

**Q)** Page doesn’t exist?  
**A)** 404 

**Q)** Database crash?  
**A)** 503  

**Q)** Edit profile without login?  
**A)** 401

---

## **Task 5: Headers**
Headers provide extra metadata about requests and responses.

**Common Request Headers:**
- **Host** – Target website
- **User-Agent** – Browser info
- **Content-Length** – Size of data
- **Accept-Encoding** – Compression types
- **Cookie** – Stored user data

**Common Response Headers:**
- **Set-Cookie** – Store cookies
- **Cache-Control** – Cache duration
- **Content-Type** – Data format
- **Content-Encoding** – Compression used

### Questions
**Q)** Header showing browser type?  
**A)** User-Agent  

**Q)** Header defining returned data type?  
**A)** Content-Type 

**Q)** Header specifying requested website?  
**A)** Host  

---

## **Task 6: Cookies**
Cookies are small pieces of data stored on your computer.

**Why cookies exist:** `HTTP is stateless` 

**Cookies allow:**
- Authentication
- Session tracking
- Personalization

**Cookies are sent using:**
```
Set-Cookie (server → browser)
Cookie (browser → server)
```

**Viewing Cookies:** `Use browser Developer Tools → Network → Cookies`

This allows **inspection of:**
- Session tokens
- Authentication cookies
- Tracking data

### Question
**Q)** Which header saves cookies on your computer?  
**A)** Set-Cookie

---

## **Task 7: Making Requests**
This task simulates real HTTP requests.

**Flags Obtained**

1) **GET /room** - `THM{YOU'RE_IN_THE_ROOM}`

![pic1](https://github.com/Deeptig9138/Pre-Security-THM/blob/main/screenshots/pic1.png)

2) **GET /blog?id=1** - `THM{YOU_FOUND_THE_BLOG}`

![pic2](https://github.com/Deeptig9138/Pre-Security-THM/blob/main/screenshots/pic2.png)

3) **DELETE /user/1** - `THM{USER_IS_DELETED}`

![pic3](https://github.com/Deeptig9138/Pre-Security-THM/blob/main/screenshots/pic3.png)

4) PUT /user/2 (username=admin) - `THM{USER_HAS_UPDATED}`

![pic4](https://github.com/Deeptig9138/Pre-Security-THM/blob/main/screenshots/pic4.png)

5) POST /login (thm / letmein) - `THM{HTTP_REQUEST_MASTER}`

![pic5](https://github.com/Deeptig9138/Pre-Security-THM/blob/main/screenshots/pic5.png)

---

## Key Takeaways
- HTTP is the core protocol of the web
- HTTPS ensures confidentiality, integrity, and authenticity
- Requests + responses drive all web interactions
- Methods define intent
- Status codes define outcomes
- Headers and cookies enable stateful behavior

**Mastering HTTP is essential for:**
- Web hacking
- Bug bounty
- SOC analysis
- Secure development
